---
prev: /front-end/
next: /front-end/FE-design-mode01.md
---

# 前端编码规范

::: tip 黄金定律
不管有多少人共同参与同一项目，一定要确保每一行代码都像是同一个人编写的。
:::

为了实习一直在学、熟练各种工具，找资料的时候看到一个网站说编程规范的，感觉说的很不错，怕看完不久又忘了，写篇文章记录一下。
[原文链接](https://codeguide.bootcss.com/#html)


## HTML

1. 语法

   - 用两个空格代替制表符（Tab）
   - 嵌套元素应缩进（即两个空格）
   - 属性定义使用双引号
   - 自闭合元素尾部不要加斜线
   - 不要省略可选的结束标签

2. HTML页面的第一行别忘了`DOCTYPE`

3. 为HTML根元素添加`lang`属性

4. IE兼容模式，如果没特殊要求，一般如下设置

   ```html
   <meta http-equiv="X-UA-Compatible" content="IE=Edge">
   ```

5. 声明字符编码

6. 引入CSS和JavaScript文件时省略`link`标签和`script`标签的`type`属性

7. 在顾及实用性的情况下，使用最少的标签并保持最小的复杂度

8. 属性按一定的顺序排列

   - `class`（用于标识高度可复用组件）
   - `id`（标志具体组件），`name`
   - `data-*`
   - `src`，`for`，`type`，`href`，`value`
   - `title`，`alt`
   - `role`，`aria-*`

9. 布尔型变量声明时不赋值

10. 减少标签的数量,避免多余的父元素

11. 尽量避免使用JavaScript生成标签



## CSS

### 1.语法

- 为选择器分组的时候，把单独的选择器放在一行
- 为了代码容易阅读，在每个声明块的左花括号前添加一个空格
- 声明块的右花括号应该单独成行
- 每条声明语句的`：`后面应该添加一个空格
- 为了获得更加准确的错误报告，每条声明语句都应该独立一行
- 所有的声明语句都应当以`；`作为结尾
- 对于逗号分割的属性值，每一个逗号后面都应该加入一个空格
- 不要在 `rgb()`、`rgba()`、`hsl()`、`hsla()` 或 `rect()` 值的**内部**的逗号后面插入空格。这样利于从多个属性值（既加逗号也加空格）中区分多个颜色值（只加逗号，不加空格）
- 对于属性值或颜色参数，省略小于 1 的小数前面的 0 （例如，`.5`代替 `0.5`；`-.5px` 代替 `-0.5px`）
- 为了容易分辨。十六进制值应该全部小写，例如，`#fff`
- 尽量使用简写形式的十六进制值，例如用`#fff`代替`#ffffff`
- 为选择器中的属性添加双引号，例如，`input[type="text"]`
- 避免为 0 值指定单位，例如，用 `margin: 0;` 代替 `margin: 0px;`

### 2.声明顺序

- 相关的属性声明应当归为一组，并按照下面的顺序排列：

  1. Positioning
  2. Box model
  3. Typographic
  4. Visual

  由于定位（positioning）可以从正常的文档流中移除元素，并且还能覆盖盒模型（box model）相关的样式，因此排在首位。盒模型排在第二位，因为它决定了组件的尺寸和位置。

  其他属性只是影响组件的*内部（inside）*或者是不影响前两组属性，因此排在后面。

### 3.不要使用@import

与 `<link>` 标签相比，`@import` 指令要慢很多，不光增加了额外的请求次数，还会导致不可预料的问题。替代办法有以下几种：

- 使用多个 `<link>` 元素
- 通过 Sass 或 Less 类似的 CSS 预处理器将多个 CSS 文件编译为一个文件
- 通过 Rails、Jekyll 或其他系统中提供过 CSS 文件合并功能

### 4.媒体查询

把媒体查询放在相关的规则附近，不要将其单独放在单一文件或者文件底部，这样容易被遗忘

### 5.带前缀的属性

当使用特定厂商的带有前缀的属性时，通过缩进的方式，让每个属性的值在垂直方向对齐，这样便于多行编辑。如下：

```css
/* Prefixed properties */
.selector {
  -webkit-box-shadow: 0 1px 2px rgba(0,0,0,.15);
          box-shadow: 0 1px 2px rgba(0,0,0,.15);
}
```

### 6.规则声明

对于**只包含一条声明**的样式，为了易读性和便于快速编辑，建议将语句放在同一行。对于带有多条声明的样式，还是应当将声明分为多行。

这样做的关键因素是为了错误检测 -- 例如，CSS 校验器指出在 183 行有语法错误。如果是单行单条声明，你就不会忽略这个错误；如果是单行多条声明的话，你就要仔细分析避免漏掉错误了。

### 7.简写形式的属性声明

在需要显示地设置所有值的情况下，应当尽量**限制**使用简写形式的属性声明。常见的滥用简写属性声明的情况如下：

- `padding`
- `margin`
- `font`
- `background`
- `border`
- `border-radius`

大部分情况下，我们不需要为简写形式的属性声明指定所有值。例如，HTML 的 heading 元素只需要设置上、下边距（margin）的值，因此，在必要的时候，只需覆盖这两个值就可以。过度使用简写形式的属性声明会导致代码混乱，并且会对属性值带来不必要的覆盖从而引起意外的副作用

### 8.Less 和 Sass 中的嵌套

避免不必要的嵌套

### 9.Less 和 Sass 中的操作符

为了提高可读性，在圆括号中的数学计算表达式的数值、变量和操作符之间均添加一个空格

### 10.注释

代码是由人编写并维护的。请确保你的代码能够自描述、注释良好并且易于他人理解。好的代码注释能够传达上下文关系和代码目的。不要简单地重申组件或 class 名称。

对于较长的注释，务必书写完整的句子；对于一般性注解，可以书写简洁的短语。

### 11.class命名

- class 名称中只能出现小写字符和破折号（dashe）（不是下划线，也不是驼峰命名法）。破折号应当用于相关 class 的命名（类似于命名空间）（例如，`.btn` 和 `.btn-danger`）
- 避免过度任意的简写。`.btn` 代表 *button*，但是 `.s` 不能表达任何意思
- class 名称应当尽可能短，并且意义明确
- 使用有意义的名称。使用有组织的或目的明确的名称，**不要使用表现形式（presentational）的名称**
- 基于最近的父 class 或基本（base） class 作为新 class 的前缀
- 使用 `.js-*` class 来标识行为（与样式相对），并且不要将这些 class 包含到 CSS 文件中

### 12.选择器

- 对于通用元素使用 class ，这样利于渲染性能的优化。
- 对于经常出现的组件，避免使用属性选择器（例如，`[class^="..."]`）。浏览器的性能会受到这些因素的影响。
- 选择器要尽可能短，并且尽量限制组成选择器的元素个数，建议不要超过 **3** 。
- **只有**在必要的时候才将 class 限制在最近的父元素内（也就是后代选择器）（例如，不使用带前缀的 class 时 -- 前缀类似于命名空间）。

### 13.代码组织

- 以组件为单位组织代码段
- 制定一致的注释规范
- 使用一致的空白符将代码分隔成块，这样利于扫描较大的文档
- 如果使用了多个 CSS 文件，将其按照组件而非页面的形式分拆，因为页面会被重组，而组件只会被移动

